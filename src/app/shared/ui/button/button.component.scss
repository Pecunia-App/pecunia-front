@use '../../../../styles/themes/tokens' as theme;
@use '../../../../styles/abstracts/typography' as typo;
@use '../../../../styles/abstracts/layout' as layout;
@use '../../../../styles/abstracts/shadows' as shadows;
@use '../../../../styles/abstracts/breakpoints' as breakpoints;

.ui-btn {
  // Utilisation des variables de th√®me
  @include layout.flex(
    $dir: row,
    $align: center,
    $justify: center,
    $gap: space-12
  );
  border: none;
  cursor: pointer;
  font-family: 'open-sans', sans-serif;
  @include typo.text-style(text-md, semibold, mobile);
  line-height: 24px;
  border: solid 2px transparent;
  background-color: transparent;
  margin: 0 auto;

  &:focus-visible {
    outline: 2px solid black;
    outline-offset: 2px;
  }

  @include breakpoints.mq(desktop) {
    @include typo.text-style(text-md, semibold, desktop);
    line-height: 24px;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    @include theme.themed-block(
      (
        background-color: 'background-secondary-disabled',
        border-color: 'border-secondary-disabled',
        color: 'text-secondary-disabled',
      )
    );
  }
}

:host-context([data-theme='dark']) .ui-btn {
  &:focus-visible {
    outline: 2px solid white;
  }
}

.ui-btn--size--medium {
  @include layout.padding(space-6, space-12);
}
.ui-btn--size--large {
  @include layout.padding(space-10, space-12);
}
.ui-btn--size--small {
  @include layout.padding(space-4);
}
.ui-btn--size--square {
  @include layout.padding(space-6);
}
.ui-btn--pill--medium {
  @include layout.radius(md);
}
.ui-btn--pill--large {
  @include layout.radius(pill);
}
.ui-btn--full {
  width: 100%;
}
.ui-btn--auto {
  width: auto;
}

.ui-btn--primary {
  //style identique pour les deux th√®mes
  @include theme.themed-block(
    (
      background-color: 'background-primary-default',
      border-color: 'border-primary-default',
      color: 'text-neutral-default-inverse',
    )
  );

  // hover s√©par√©
  &:hover {
    @include theme.themed-block(
      (
        background-color: 'background-primary-hover',
        border-color: 'border-primary-hover',
      )
    );
  }
}

// üéØ Exception uniquement pour le light
:host-context([data-theme='light']) .ui-btn--primary {
  &:hover {
    color: #{theme.themed('text-neutral-default', 'light')};
  }
}

.ui-btn--secondary {
  //style identique pour les deux th√®mes
  @include theme.themed-block(
    (
      background-color: 'background-secondary-default',
      border-color: 'border-secondary-default',
      color: 'text-neutral-default-inverse',
    )
  );

  // hover s√©par√©
  &:hover {
    @include theme.themed-block(
      (
        background-color: 'background-secondary-hover',
        border-color: 'border-secondary-hover',
      )
    );
  }
}

// üéØ Exception uniquement pour le light
:host-context([data-theme='light']) .ui-btn--secondary {
  &:hover {
    color: #{theme.themed('text-neutral-default', 'light')};
  }
}

.ui-btn--primary-ghost {
  //style identique pour les deux th√®mes
  @include theme.themed-block(
    (
      color: 'text-primary-default',
      border-color: 'border-primary-default',
    )
  );

  // hover s√©par√©
  &:hover {
    @include theme.themed-block(
      (
        background-color: 'background-primary-hover-ghost',
        border-color: 'border-primary-hover-ghost',
        color: 'text-neutral-default-static',
      )
    );
  }
}
.ui-btn--secondary-ghost {
  //style identique pour les deux th√®mes
  @include theme.themed-block(
    (
      color: 'text-secondary-default',
      border-color: 'border-secondary-default',
    )
  );

  // hover s√©par√©
  &:hover {
    @include theme.themed-block(
      (
        background-color: 'background-secondary-hover-ghost',
        border-color: 'border-secondary-hover-ghost',
        color: 'text-neutral-default-static',
      )
    );
  }
}
.ui-btn--alert {
  //style identique pour les deux th√®mes
  @include theme.themed-block(
    (
      background-color: 'background-alert-default-low',
      color: 'text-alert-default-darker',
      border-color: 'background-alert-default-low',
    )
  );

  // hover s√©par√©
  &:hover {
    @include theme.themed-block(
      (
        background-color: 'background-alert-hover-medium',
        border-color: 'border-alert-hover-medium',
        color: 'text-neutral-default-inverse',
      )
    );
  }
}
.ui-btn--success {
  //style identique pour les deux th√®mes
  @include theme.themed-block(
    (
      background-color: 'background-success-default-low',
      color: 'text-success-default-darker',
      border-color: 'background-success-default-low',
    )
  );

  // hover s√©par√©
  &:hover {
    @include theme.themed-block(
      (
        background-color: 'background-success-hover-medium',
        border-color: 'border-success-hover-medium',
        color: 'text-neutral-default-inverse',
      )
    );
  }
}

// Style sp√©cifique pour les boutons avec ic√¥nes personnalis√©es
.ui-btn--custom-icon {
  // Style similaire au bouton primaire
  @include theme.themed-block(
    (
      background-color: 'background-primary-default',
      border-color: 'border-primary-default',
      color: 'text-neutral-default-inverse',
    )
  );

  // Ajustement du padding pour bien positionner les ic√¥nes
  @include layout.padding(space-6, space-12);

  // Style sp√©cifique pour les ic√¥nes √† l'int√©rieur du bouton
  app-ui-icon {
    // Assurez-vous que les ic√¥nes ont une couleur blanche par d√©faut
    color: white;
  }

  // √âtat hover
  &:hover {
    @include theme.themed-block(
      (
        background-color: 'background-primary-hover',
        border-color: 'border-primary-hover',
      )
    );

    // Changer la couleur des ic√¥nes au survol
    app-ui-icon {
      // Cette couleur correspond √† celle montr√©e dans l'image au hover
      color: black;
    }
  }
}

// Exception pour le th√®me light (comme pour les autres variants)
:host-context([data-theme='light']) .ui-btn--custom-icon {
  &:hover {
    color: #{theme.themed('text-neutral-default', 'light')};

    app-ui-icon {
      color: #{theme.themed('text-neutral-default', 'light')};
    }
  }
}

//override classes
.menu-footer-btn {
  @include shadows.shadow(lg);
  :host-context([data-theme='dark']) & {
    @include shadows.shadow(lg, dark);
  }
}
